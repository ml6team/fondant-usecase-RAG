#metadata: to be matched w/ docker image
name: retriever_eval
description: Component that evaluates the retriever using RAGAS
image: ghcr.io/ml6team/retriever_eval:dev

consumes:
  text: #TODO: same as previous component produces
    fields:
      data:
        type: string
      retrieved+chunks:
        type: array
        items:
          type: string

produces:
  text: #TODO: keep question and contexts, add/retrieve chosen metrics to compute
    fields:
      question:
        type: string
      contexts:
        type: array
        items:
          type: string
      context+precision:
        type: float32
      context+relevancy:
        type: float32

args:
  openai_key:
    description: OpenAI key
    type: str
  metrics:
    description: RAGAS metrics to compute
    type: list
    items:
      type: str
